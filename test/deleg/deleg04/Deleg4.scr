//Raymond@HZHL3 ~/code/go/src/github.com/rhu1/scribble-go-runtime
//$ ~/code/eclipse/scribble/github.com/rhu1-go/scribble-java/bin/scribblec-param.sh test/deleg/deleg04/Deleg4.scr -d test/deleg/deleg04/ -param Proto2 github.com/rhu1/scribble-go-runtime/test/deleg/deleg04/Deleg4 -param-api A -param-api B
//$ ~/code/eclipse/scribble/github.com/rhu1-go/scribble-java/bin/scribblec-param.sh test/deleg/deleg04/Deleg4.scr -d test/deleg/deleg04/ -param Proto1 github.com/rhu1/scribble-go-runtime/test/deleg/deleg04/Deleg4 -param-api S -param-api W


module Deleg4;


sig <go> "messages.Bar" from "github.com/rhu1/scribble-go-runtime/test/deleg/deleg04/messages" as Bar;


global protocol Proto1(role S, role W)
{
	//Foo(Proto2a@A) from S[1,1] to W[1,1];  // Syntax doesn't allow Proto2a to be specified within context of Proto2 as root
	Foo(Proto2:Proto2a@A) from S[1,1] to W[1,1];
}

global protocol Proto2(role A, role B)
{
	Bar from A[1,1] to B[1,1];	
	do Proto2a(A, B);
}

aux global protocol Proto2a(role A, role B)
{
	Bar from A[1,1] to B[1,1];	
}
