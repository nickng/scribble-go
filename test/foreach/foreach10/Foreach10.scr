//Raymond@HZHL3 ~/code/go/src/github.com/rhu1/scribble-go-runtime
//$ ~/code/eclipse/scribble/github.com/rhu1-go/scribble-java/bin/scribblec-param.sh test/foreach/foreach10/Foreach10.scr -d test/foreach/foreach10/ -param Proto1 github.com/rhu1/scribble-go-runtime/test/foreach/foreach10/Foreach10 -param-api W


// http://sandbox.kidstrythisathome.com/erdos/


module Foreach10;


sig <go> "messages.Foo" from "github.com/rhu1/scribble-go-runtime/test/foreach/foreach10/messages" as Foo;
sig <go> "messages.Bar" from "github.com/rhu1/scribble-go-runtime/test/foreach/foreach10/messages" as Bar;


// Families: K=3 and K>3
global protocol Proto1(role W)
{
	choice at W[1]
	{
		Foo from W[1] to W[2];
		foreach W[I:2,K-1], W[J:3,K]
		{
			Foo from W[I] to W[J];
		}
	}
	or
	{
		Bar from W[1] to W[2];
		foreach W[I:2,K-1], W[J:3,K]
		{
			Bar from W[I] to W[J];
		}
	}
}

/*
W2 W_2to2and2toKsub1_not_1to1and3toK
WK W_3toK_not_1to1and2to2and2toKsub1
W1 W_1to1_not_2to2and2toKsub1and3toK
M  W_2toKsub1and3toK_not_1to1and2to2
*/

